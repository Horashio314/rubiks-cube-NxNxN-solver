#!/usr/bin/env python3

import datetime as dt

solved_777 = 'xUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUURRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB'


def pretty_time(delta):
    delta = str(delta)

    if delta.startswith('0:00:00.'):
        delta_us = int(delta.split('.')[1])
        delta_ms = int(delta_us/1000)

        if delta_ms >= 500:
            return "\033[91m%sms\033[0m" % delta_ms
        else:
            return "%sms" % delta_ms

    elif delta.startswith('0:00:01.'):
        delta_us = int(delta.split('.')[1])
        delta_ms = 1000 + int(delta_us/1000)
        return "\033[91m%sms\033[0m" % delta_ms

    else:
        return "\033[91m%s\033[0m" % delta

def rotate_777_3Lw_original(cube):
    return [cube[0],cube[245],cube[244],cube[243]] + cube[4:8] + [cube[238],cube[237],cube[236]] + cube[11:15] + [cube[231],cube[230],cube[229]] + cube[18:22] + [cube[224],cube[223],cube[222]] + cube[25:29] + [cube[217],cube[216],cube[215]] + cube[32:36] + [cube[210],cube[209],cube[208]] + cube[39:43] + [cube[203],cube[202],cube[201]] + cube[46:50] + [cube[92],cube[85],cube[78],cube[71],cube[64],cube[57],cube[50],cube[93],cube[86],cube[79],cube[72],cube[65],cube[58],cube[51],cube[94],cube[87],cube[80],cube[73],cube[66],cube[59],cube[52],cube[95],cube[88],cube[81],cube[74],cube[67],cube[60],cube[53],cube[96],cube[89],cube[82],cube[75],cube[68],cube[61],cube[54],cube[97],cube[90],cube[83],cube[76],cube[69],cube[62],cube[55],cube[98],cube[91],cube[84],cube[77],cube[70],cube[63],cube[56]] + cube[1:4] + cube[102:106] + cube[8:11] + cube[109:113] + cube[15:18] + cube[116:120] + cube[22:25] + cube[123:127] + cube[29:32] + cube[130:134] + cube[36:39] + cube[137:141] + cube[43:46] + cube[144:201] + [cube[290],cube[289],cube[288]] + cube[204:208] + [cube[283],cube[282],cube[281]] + cube[211:215] + [cube[276],cube[275],cube[274]] + cube[218:222] + [cube[269],cube[268],cube[267]] + cube[225:229] + [cube[262],cube[261],cube[260]] + cube[232:236] + [cube[255],cube[254],cube[253]] + cube[239:243] + [cube[248],cube[247],cube[246]] + cube[99:102] + cube[249:253] + cube[106:109] + cube[256:260] + cube[113:116] + cube[263:267] + cube[120:123] + cube[270:274] + cube[127:130] + cube[277:281] + cube[134:137] + cube[284:288] + cube[141:144] + cube[291:295]

exp1_list = (0,245,244,243,4,5,6,7,238,237,236,11,12,13,14,231,230,229,18,19,20,21,224,223,222,25,26,27,28,217,216,215,32,33,34,35,210,209,208,39,40,41,42,203,202,201,46,47,48,49,92,85,78,71,64,57,50,93,86,79,72,65,58,51,94,87,80,73,66,59,52,95,88,81,74,67,60,53,96,89,82,75,68,61,54,97,90,83,76,69,62,55,98,91,84,77,70,63,56,1,2,3,102,103,104,105,8,9,10,109,110,111,112,15,16,17,116,117,118,119,22,23,24,123,124,125,126,29,30,31,130,131,132,133,36,37,38,137,138,139,140,43,44,45,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,290,289,288,204,205,206,207,283,282,281,211,212,213,214,276,275,274,218,219,220,221,269,268,267,225,226,227,228,262,261,260,232,233,234,235,255,254,253,239,240,241,242,248,247,246,99,100,101,249,250,251,252,106,107,108,256,257,258,259,113,114,115,263,264,265,266,120,121,122,270,271,272,273,127,128,129,277,278,279,280,134,135,136,284,285,286,287,141,142,143,291,292,293,294)

def rotate_777_3Lw_experiment1(cube):
    #return [cube[x] for x in (0,245,244,243,4,5,6,7,238,237,236,11,12,13,14,231,230,229,18,19,20,21,224,223,222,25,26,27,28,217,216,215,32,33,34,35,210,209,208,39,40,41,42,203,202,201,46,47,48,49,92,85,78,71,64,57,50,93,86,79,72,65,58,51,94,87,80,73,66,59,52,95,88,81,74,67,60,53,96,89,82,75,68,61,54,97,90,83,76,69,62,55,98,91,84,77,70,63,56,1,2,3,102,103,104,105,8,9,10,109,110,111,112,15,16,17,116,117,118,119,22,23,24,123,124,125,126,29,30,31,130,131,132,133,36,37,38,137,138,139,140,43,44,45,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,290,289,288,204,205,206,207,283,282,281,211,212,213,214,276,275,274,218,219,220,221,269,268,267,225,226,227,228,262,261,260,232,233,234,235,255,254,253,239,240,241,242,248,247,246,99,100,101,249,250,251,252,106,107,108,256,257,258,259,113,114,115,263,264,265,266,120,121,122,270,271,272,273,127,128,129,277,278,279,280,134,135,136,284,285,286,287,141,142,143,291,292,293,294)]
    return [cube[x] for x in exp1_list]



rotate_777_3Lw_swaps = ((1, 245), (2, 244), (3, 243), (8, 238), (9, 237), (10, 236), (15, 231), (16, 230), (17, 229), (22, 224), (23, 223), (24, 222), (29, 217), (30, 216), (31, 215), (36, 210), (37, 209), (38, 208), (43, 203), (44, 202), (45, 201), (50, 92), (51, 85), (52, 78), (53, 71), (54, 64), (55, 57), (50, 56), (57, 93), (58, 86), (59, 79), (60, 72), (61, 65), (58, 62), (51, 63), (64, 94), (65, 87), (66, 80), (67, 73), (66, 68), (59, 69), (52, 70), (71, 95), (72, 88), (73, 81), (67, 75), (60, 76), (53, 77), (78, 96), (79, 89), (80, 82), (75, 81), (68, 82), (61, 83), (54, 84), (85, 97), (86, 90), (83, 87), (76, 88), (69, 89), (62, 90), (55, 91), (92, 98), (91, 93), (84, 94), (77, 95), (70, 96), (63, 97), (56, 98), (1, 99), (2, 100), (3, 101), (8, 106), (9, 107), (10, 108), (15, 113), (16, 114), (17, 115), (22, 120), (23, 121), (24, 122), (29, 127), (30, 128), (31, 129), (36, 134), (37, 135), (38, 136), (43, 141), (44, 142), (45, 143), (201, 290), (202, 289), (203, 288), (208, 283), (209, 282), (210, 281), (215, 276), (216, 275), (217, 274), (222, 269), (223, 268), (224, 267), (229, 262), (230, 261), (231, 260), (236, 255), (237, 254), (238, 253), (243, 248), (244, 247), (245, 246), (99, 246), (100, 247), (101, 248), (106, 253), (107, 254), (108, 255), (113, 260), (114, 261), (115, 262), (120, 267), (121, 268), (122, 269), (127, 274), (128, 275), (129, 276), (134, 281), (135, 282), (136, 283), (141, 288), (142, 289), (143, 290))

def rotate_777_3Lw_experiment2(cube):
    for (x, y) in rotate_777_3Lw_swaps:
        cube[x], cube[y] = cube[y], cube[x]

cube = list(solved_777)

start_time0 = dt.datetime.now()
for x in range(100000):
    # original takes anywhere from 3500ms to 4100ms to do 100k
    #cube = rotate_777_3Lw_original(cube[:])

    # exp1 takes 1250ms!! :)
    #cube = rotate_777_3Lw_experiment1(cube[:])

    # exp2 takes 1180ms
    rotate_777_3Lw_experiment2(cube)

end_time0= dt.datetime.now()
delta = end_time0 - start_time0
print ("Took %s" % pretty_time(delta))
